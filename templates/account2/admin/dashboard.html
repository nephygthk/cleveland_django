{% extends '../base.html' %}


{% block content %}

<div class="row justify-content-center align-items-center">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <h4 class="text-center">Patient List</h4>
                {% include '../../frontend/include/alert.html' %}
                <div class="table-responsive">
                    <table class="table table-custom">
                        <thead>
                          <tr>
                            <th scope="col">Patient ID</th>
                            <th scope="col">Patient Name</th>
                            <th scope="col">Doctor</th>
                            <th scope="col">Date of Birth</th>
                            <th scope="col">BG</th>
                            <th scope="col">Email</th>
                            <th scope="col">Mobile</th>
                            <th scope="col">Password</th>
                            <th scope="col">Admited On</th>

                            <th scope="col"></th>
                            <th scope="col"></th>
                            <th scope="col"></th>
                          </tr>
                        </thead>
                        
                        <tbody>
                            {% if not customers %}
                            <tr>
                                <td>
                                    <p class="text-center">No Patient List To display, please add a new patient</p>
                                </td>
                            </tr>
                            
                            {% else %}
                                {% for list in customers %}
                                    <tr>
                                        <td>{{list.patient.patient_id}}</td>
                                        <td>{{list.patient.full_name}}</td>
                                        <td>{{list.patient.doctor}}</td>
                                        <td>{{list.patient.date_of_birth}}</td>
                                        <td>{{list.patient.blood_group}}</td>
                                        <td>{{list.email}}</td>
                                        <td>{{list.patient.phone_number}}</td>
                                        <td>{{list.patient.pass_text}}</td>
                                        <td>{{list.patient.admission_date}}</td>

                                        <td>
                                            <a href="{% url 'account:update_patient' list.pk %}"><i class="fa-solid fa-pen"></i></a>
                                        </td>
                                        <td>
                                            <a href="{% url 'account:delete_patient' list.pk %}"><i class="fa-sharp fa-solid fa-trash text-danger"></i></a>
                                        </td>
                                        <td>
                                            <a href="{% url 'account:change_patient_password' list.pk %}" class="btn btn-info btn-custom">Pass</a>
                                        </td>
                                    </tr>
                                {% endfor %}
                            {% endif %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}